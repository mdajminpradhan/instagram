{"version":3,"sources":["images/logo.png","firebase.js","Post.jsx","ImageUpload.jsx","App.js","index.js"],"names":["module","exports","db","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","firestore","auth","storage","Post","postId","username","imgURL","caption","user","useState","comments","setComments","comment","setComment","useEffect","unsubscribe","collection","doc","orderBy","onSnapshot","snapshot","docs","map","id","data","className","Avatar","alt","src","key","placeholder","value","onChange","event","target","disabled","type","onClick","preventDefault","add","displayName","timestamp","FieldValue","serverTimestamp","ImageUpload","image","setImage","progress","setProgress","setCaption","max","files","Button","ref","name","put","on","Math","round","bytesTransferred","totalBytes","error","console","log","alert","message","child","getDownloadURL","then","url","variant","color","getModalStyle","top","left","transform","useStyles","makeStyles","theme","paper","position","width","backgroundColor","palette","background","border","boxShadow","shadows","padding","spacing","App","classes","modalStyle","posts","setPost","open","setOpen","signInOpen","setSignInOpen","setUsername","email","setEmail","password","setPassword","setUser","onAuthStateChanged","authUser","post","Modal","onClose","style","logo","Input","createUserWithEmailAndPassword","updateProfile","catch","signInWithEmailAndPassword","signOut","maxWidth","hideCaption","containerTagName","protocol","injectScript","onLoading","onSuccess","onAfterRender","onFailure","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.3f678470.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGcAAAAdCAMAAACAJoJsAAACwVBMVEUAAAAjHyAjHyD///8zIiIjHyBAQEAkICErICsmJiYsISEmIiKAgIAjHyAnISEtLS0kHyIpKSkkICEkHyEkHyE5OTkkICEjHyAzMzMuIyMkJCQjICElHyImISEjICErKyskJCQoKCgkICEkICEkICElICAmHyNAIEAkICEkISEnJyczMzMmJiYkICFVVVUkICAlISEjICAjHyEjHyElICAjHyEjHyEjICEkICEkICAkICIrIiIkHyAkHyEjICAkICAjHyElISEkISElICArKysmICArKysjICEkHyAkHyAkICIkISEnIyMkICElISEkHyAjICEuLi4kHyAjHyAlICUkISEnIyMkICAkJCQjHyAjHyEpIyMkHyEkICIkICEjICEjICAmIiIjICEkICIjICAkICAkISEkICAlHyIkICEwIDAoIiIjICIkHyIkISEkICQmISEkHyEkICElICIjICEkISEkICAkICAkICAjICAjISElHyEjISEkHyAkHyQjISEkISEmICYjICEkICAkISEkICAkHyApIiIjICEkICAkISElICMkJCQjHyEkICAjICEjHyEkHyEjHyEnIiIkICAjICEkHyAkHyEjICAkISEjHyAkICAkICInJyckHyEkICEkISEjICAjICEkHyEjHyEjICMkHyEmJiYjICAmISEkHyEkICAjIyMkICQlISEkICEjIyMnISEkISEkICAkICAkJCQlICIoIiIkJCQjICAjICAjICMkISEnJyckJCQlISEkICIjIyMkICEjICIpISEjICEkIiIjICAmIiImHyIkICAjIyMkHyEjISEkHyEkHyEkISEjICAmICMjICIkHyAlHyUlICAkHyAkJCQjHyMlHyElICIjICAkICEkICEkHyAlICAkHyAoICgkICAjICEmHyMlIiIkICEkICAkHyQjHyAYxkEZAAAA6nRSTlMA/fwBD/4E+hgUF0MC7i4Rchn5nPsJ+OYKFjLgWi/pBioTucDydlEIyUYaBRuoA3d9l7zDZ8xz2tBHgR7NlN+GikVObxJfDMr03XlNO6E+xdIL1b0wXUK/FfWDLKuAsNHnNcJw751rf1K4ECaYalxANrOqYdmFj8eWrl6SdO0xbZUokZ5Vz+Ql4daNYCO0t5nL23s0h9jsrJ9W9r5xIZPqZLXwpMRQmiKtPevOJDiE8R0nY36vK1ktB7amSIwNDnV4M7KJH+hb9zxKxjqjbOPzVKdYkN4pN9QcQYtoV+K65W7cII6gSVOxPzlNBvrEAAAEaklEQVR4XrXNU5OeiQJF4fV+atq2EXd3bNu2PbE5sTO2bds+tm2sX3HqfFW5m75IJf3c7dq7agP0+GFBQS+6Ulfw02e4GfKqQ99oBl34gc7hJugxy98/oEl0Yb/WcxP0dCmzNJkuvKcDuHHN+c5mnibyLcJ35adl67nq/TmJ3Jg6O6FGs/gWkZBxGvoNN6a/V6CvZlH1nTwgdeqXxM2eeBLyRmcV6MnK481QOTEziwhxRatuT2cGQGb768RB+Kklb8ca3gXY9hBEUj4Cyl4jboEL4UlNpJ93f0Ryu8HPw0BpoBkAp/UMwJiQru5t56vAHY9rcGe0vIl0HUfrLa8BLdvVPldD90I4cB0bTEunLOSfNgL82XUwTRPZosnhGnP1CKQ+ryVhgAJtBcpyrV2zS/0vxG7TDZfUTEbqgrs12AQ9dfqU8ToBWvTKL9XhHFNLAY65A76nyazV+X9w8DD9PlSpXwPwlY4GntXnqDqsxbBTH4bPdS0Ny9zVd7muIJLmzDwO6Dlo0M3D1N4Vadl6H8DomfdnsVeTOapJL2RXDtPZwDgLIgCU6wwozPdJoE0roY+5SfCo9oO++Uk8ZkID6+OxMOQpmKGbh0677JomT+hIAPKWjKBRixilAxzCrboJyNEJdwA8rzF4SV8GBupFUmttBEbo6yQGT8By22G4LgKGuhc+1sE+tdi2gwkDtIlrxul8VukTCYPI0VdhU+7CoWYfgB4/VmCr7gR66SAe0n8AKbqTnm6jUN+Hx3Q+sMuVsFFd3bLGy/2rV+hvueaqJpGp47fD+5oIS/eGmzuNjmSuBsBRXQ8M01bSdQ8wSccUlu+HRP0CajQGnLUGMtQdDPdcaEu6zuWads2gQy2FezSZEUExnMl2Op8HRlNhiP4MaNNBlGkOkKljDoWOwzO6DubFd+8GroTRaiYdavFF/S4UEjdYx/KJZo+FZ3VQQ+cQgDfNn9NYrRlUnNYOCJfoWyTrLGCx3l67Gxgb9UOYookwWQfDc2o992moJS/qASpKiOtvEKNO5xHfDzjxo42/aoY3DSVMHa4pTJwWuBRS1HqadHkqSffrgmUVABPsAzv0J3CvpsHT6me8o7+AoZ5n7l3EzfQsPKgDgYEaDVIWJaT16pmgL3NEGz9MKL5kqHTy2T6/9p6MlSW68K0HanX1iwCcNzT1pUdynV521N/pByMOq2focdpG2G35kep9xP3RDTBJ64EVgaEL1Aeq+W8AOeohjh9WayJvq6eqTqklk7WDuIxlGp30oBo9RJv6l/HaCunHxkDRX3X83wCIJbgeYr02FwGc/PtnQOWnJ/Z90gwQ3rrnn0DrkodHVsAtt9ZFKBzV+0LWdt1CHGNHHUz5fzUwHVoe7V3Kvw7eGSYOit44v4i4bY5L5TpF+oZCjuK69Pv3x1ynpP7B1jRX0c0iL7iWWufQzRabA4FNdK//WB4hWd+he+12D6T4eIzuVeenMMR9dLMXX5nwQWbubUl0t+L3Xnnk6arrOPgfG95WRPTKWcwAAAAASUVORK5CYII=\"","import firebase from 'firebase';\n\nconst firebaseApp = firebase.initializeApp({\n    apiKey: \"AIzaSyCeo7R4CViznZglNAvRQDz78vur1FWKGEY\",\n    authDomain: \"instagram-c7865.firebaseapp.com\",\n    databaseURL: \"https://instagram-c7865.firebaseio.com\",\n    projectId: \"instagram-c7865\",\n    storageBucket: \"instagram-c7865.appspot.com\",\n    messagingSenderId: \"34868825394\",\n    appId: \"1:34868825394:web:8ba22e98e29a5edb805b2b\",\n    measurementId: \"G-FY3EJ7R7V5\"\n});\n\nconst db = firebaseApp.firestore();\nconst auth = firebase.auth();\nconst storage = firebase.storage();\n\nexport default db;\n\nexport { auth, storage }","import React, { useEffect, useState } from \"react\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport \"./Post.css\";\nimport firebase from \"firebase\";\nimport db from \"./firebase\";\n\nfunction Post({ postId, username, imgURL, caption, user }) {\n  const [comments, setComments] = useState([]);\n  const [comment, setComment] = useState(\"\");\n\n  useEffect(() => {\n    let unsubscribe;\n    if (postId) {\n      unsubscribe = db\n        .collection(\"posts\")\n        .doc(postId)\n        .collection(\"comments\")\n        .orderBy(\"timestamp\", \"desc\")\n        .onSnapshot((snapshot) => {\n          setComments(snapshot.docs.map((doc) => ({id: doc.id, comment: doc.data()})));\n        });\n    }\n\n    return () => {\n      unsubscribe();\n    };\n  }, [postId]);\n\n  const postComment = (event) => {\n    event.preventDefault();\n\n    db.collection(\"posts\").doc(postId).collection(\"comments\").add({\n      comment: comment,\n      username: user.displayName,\n      timestamp: firebase.firestore.FieldValue.serverTimestamp(),\n    });\n\n    setComment(\"\");\n  };\n\n  return (\n    <div className=\"post\">\n      <div className=\"post__header\">\n        <Avatar alt={username} src=\"/static/images/avatar/1.jpg\" />\n        <h3>{username}</h3>\n      </div>\n\n      <img src={imgURL} className=\"post__image\" alt=\"post\" />\n\n      <h4>\n        <strong>{username} </strong>\n        {caption}\n      </h4>\n\n      <div className=\"post__comments\">\n        {comments.map(({id, comment}) => {\n          return (\n            <p key={id}>\n              <strong>{comment.username}</strong> {comment.comment}\n            </p>\n          );\n        })}\n      </div>\n\n      {user && (\n        <form className=\"post__commentBox\">\n          <input\n            className=\"comment__input\"\n            placeholder=\"Write comment...\"\n            value={comment}\n            onChange={(event) => setComment(event.target.value)}\n          />\n          <button\n            className=\"comment__button\"\n            disabled={!comment}\n            type=\"submit\"\n            onClick={postComment}\n          >\n            Post\n          </button>\n        </form>\n      )}\n    </div>\n  );\n}\n\nexport default Post;\n","import React, { useState } from \"react\";\nimport { Button } from \"@material-ui/core\";\nimport firebase from \"firebase\";\nimport db, { storage } from \"./firebase\";\nimport './imageupload.css';\n\nfunction ImageUpload({ username }) {\n  const [image, setImage] = useState(null);\n  const [progress, setProgress] = useState(0);\n  const [caption, setCaption] = useState(0);\n\n  const handleChange = (event) => {\n    if (event.target.files[0]) {\n      setImage(event.target.files[0]);\n    }\n  };\n\n  const handleUpload = () => {\n    const UploadTask = storage.ref(`images/${image.name}`).put(image);\n\n    UploadTask.on(\n      \"state_changed\",\n      (snapshot) => {\n        // progress function\n        const progress = Math.round(\n          (snapshot.bytesTransferred / snapshot.totalBytes) * 100\n        );\n        setProgress(progress);\n      },\n      (error) => {\n        // Error function\n        console.log(error);\n        alert(error.message);\n      },\n      () => {\n        // complete function\n        storage\n          .ref(\"images\")\n          .child(image.name)\n          .getDownloadURL()\n          .then((url) => {\n            // post image inside db\n            db.collection(\"posts\").add({\n              timestamp: firebase.firestore.FieldValue.serverTimestamp(),\n              caption: caption,\n              imgURL: url,\n              username: username,\n            });\n\n            setProgress(0);\n            setCaption(\"\");\n            setImage(null);\n          });\n      }\n    );\n  };\n\n  return (\n    <div className=\"imageupload\">\n      <progress value={progress} className=\"imageupload__progress\" max=\"100\"></progress>\n      <input\n        type=\"text\"\n        placeholder=\"Enter your caption\"\n        value={caption}\n        onChange={(event) => setCaption(event.target.value)}\n      />\n      <input type=\"file\" onChange={handleChange} />\n      <Button onClick={handleUpload} variant=\"contained\" color=\"primary\">Upload</Button>\n    </div>\n  );\n}\n\nexport default ImageUpload;\n","import React, { useState, useEffect } from \"react\";\nimport \"./App.css\";\nimport logo from \"./images/logo.png\";\nimport Post from \"./Post\";\nimport db, { auth } from \"./firebase\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Modal from \"@material-ui/core/Modal\";\nimport { Button, Input } from \"@material-ui/core\";\nimport ImageUpload from \"./ImageUpload.jsx\";\nimport InstagramEmbed from \"react-instagram-embed\";\n\nfunction getModalStyle() {\n  const top = 50;\n  const left = 50;\n\n  return {\n    top: `${top}%`,\n    left: `${left}%`,\n    transform: `translate(-${top}%, -${left}%)`,\n  };\n}\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    position: \"absolute\",\n    width: 400,\n    backgroundColor: theme.palette.background.paper,\n    border: \"2px solid #000\",\n    boxShadow: theme.shadows[5],\n    padding: theme.spacing(2, 4, 3),\n  },\n}));\n\nfunction App() {\n  const classes = useStyles();\n\n  const [modalStyle] = useState(getModalStyle);\n\n  const [posts, setPost] = useState([]);\n  const [open, setOpen] = useState(false);\n  const [signInOpen, setSignInOpen] = useState(\"\");\n  const [username, setUsername] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [user, setUser] = useState(null);\n\n  useEffect(() => {\n    const unsubscribe = auth.onAuthStateChanged((authUser) => {\n      if (authUser) {\n        // user has logged in\n        console.log(authUser);\n        setUser(authUser);\n      } else {\n        //user has logged out\n        setUser(null);\n      }\n    });\n\n    return () => {\n      // perform some clean up actions\n      unsubscribe();\n    };\n  }, [user, username]);\n\n  //getting all posts from database\n  useEffect(() => {\n    db.collection(\"posts\")\n      .orderBy(\"timestamp\", \"desc\")\n      .onSnapshot((snapshot) => {\n        setPost(snapshot.docs.map((doc) => ({ id: doc.id, post: doc.data() })));\n      });\n  }, []);\n\n  //signup\n  const signUp = (event) => {\n    event.preventDefault();\n\n    auth\n      .createUserWithEmailAndPassword(email, password)\n      .then((authUser) => {\n        return authUser.user.updateProfile({\n          displayName: username,\n        });\n      })\n      .catch((error) => alert(error.message));\n\n    setOpen(false);\n  };\n\n  const signIn = (event) => {\n    event.preventDefault();\n\n    auth\n      .signInWithEmailAndPassword(email, password)\n      .catch((error) => alert(error.message));\n\n    setSignInOpen(false);\n  };\n\n  return (\n    <div className=\"app\">\n      <Modal open={open} onClose={() => setOpen(false)}>\n        <div style={modalStyle} className={classes.paper}>\n          <form className=\"app__signup\">\n            <center>\n              <img src={logo} alt=\"logo\" className=\"app_headerImage\" />\n            </center>\n            <Input\n              type=\"text\"\n              value={username}\n              placeholder=\"Username\"\n              onChange={(event) => setUsername(event.target.value)}\n            />\n            <Input\n              type=\"text\"\n              value={email}\n              placeholder=\"Email address\"\n              onChange={(event) => setEmail(event.target.value)}\n            />\n            <Input\n              type=\"password\"\n              value={password}\n              placeholder=\"Password\"\n              onChange={(event) => setPassword(event.target.value)}\n            />\n            <Button type=\"submit\" onClick={signUp}>\n              Sign Up\n            </Button>\n          </form>\n        </div>\n      </Modal>\n\n      <Modal open={signInOpen} onClose={() => setSignInOpen(false)}>\n        <div style={modalStyle} className={classes.paper}>\n          <form className=\"app__signup\">\n            <center>\n              <img src={logo} alt=\"logo\" className=\"app_headerImage\" />\n            </center>\n            <Input\n              type=\"text\"\n              value={email}\n              placeholder=\"Email address\"\n              onChange={(event) => setEmail(event.target.value)}\n            />\n            <Input\n              type=\"password\"\n              value={password}\n              placeholder=\"Password\"\n              onChange={(event) => setPassword(event.target.value)}\n            />\n            <Button type=\"submit\" onClick={signIn}>\n              Sign In\n            </Button>\n          </form>\n        </div>\n      </Modal>\n\n      {user?.displayName ? (\n        <ImageUpload username={user.displayName} />\n      ) : (\n        null\n      )}\n\n      <div className=\"app__header\">\n        <img src={logo} alt=\"logo\" className=\"app_headerImage\" />\n\n        {user ? (\n          <Button onClick={() => auth.signOut()}>Log Out</Button>\n        ) : (\n          <div className=\"app__account\">\n            <div className=\"app__signInContainer\">\n              <Button onClick={() => setSignInOpen(true)}>Sign In</Button>\n            </div>\n            <Button onClick={() => setOpen(true)}>Sign Up</Button>\n          </div>\n        )}\n      </div>\n\n      <div className=\"app__post\">\n        <div className=\"app__postLeft\">\n          {posts.map(({ post, id }) => {\n            return (\n              <Post\n                key={id}\n                postId={id}\n                username={post.username}\n                user={user}\n                imgURL={post.imgURL}\n                caption={post.caption}\n              />\n            );\n          })}\n        </div>\n        <div className=\"app__postRight\">\n          <InstagramEmbed\n            url=\"https://www.instagram.com/p/B_zgO08A5JO/\"\n            maxWidth={320}\n            hideCaption={false}\n            containerTagName=\"div\"\n            protocol=\"\"\n            injectScript\n            onLoading={() => {}}\n            onSuccess={() => {}}\n            onAfterRender={() => {}}\n            onFailure={() => {}}\n          />\n\n          <InstagramEmbed\n            url=\"https://www.instagram.com/p/CECDo3-gpxF/?utm_source=ig_web_copy_link\"\n            maxWidth={320}\n            hideCaption={false}\n            containerTagName=\"div\"\n            protocol=\"\"\n            injectScript\n            onLoading={() => {}}\n            onSuccess={() => {}}\n            onAfterRender={() => {}}\n            onFailure={() => {}}\n          />\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}